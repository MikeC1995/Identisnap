<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/app.css" />
        <title>Identisnap</title>
    </head>
    <body id="app" ng-controller="appController">
      <div id="nav">
        <div>
          <img ng-src="{{ $state.is('gallery') ? 'img/icons/menu.png' : 'img/icons/back.png' }} " ng-click="navClicked()">
          <span>Identisnap</span>
        </div>
      </div>
      <div class="content" ui-view></div>

      <!-- DEPENDENCIES -->
      <script type="text/javascript" src="cordova.js"></script>
      <script type="text/javascript" src="node_modules/angular/angular.min.js"></script>
      <script type="text/javascript" src="node_modules/angular-animate/angular-animate.min.js"></script>
      <script type="text/javascript" src="node_modules/angular-ui-router/release/angular-ui-router.min.js"></script>
      <script type='application/javascript' src='app/dependencies/fastclick.js'></script>

      <!-- APPLICATION -->
      <script type="text/javascript" src="app/app.js"></script>
      <script type="text/javascript" src="app/components/gallery/gallery.controller.js"></script>
      <script type="text/javascript" src="app/components/viewer/viewer.controller.js"></script>
      <script type="text/javascript" src="app/components/map/map.directive.js"></script>
      <script type="text/javascript" src="app/shared/places.factory.js"></script>
      <script type="text/javascript" src="app/shared/api.factory.js"></script>
      <script type="text/javascript" src="app/shared/map-load.service.js"></script>
      <script type="text/javascript" src="app/shared/background-image.directive.js"></script>
      <script type="text/javascript" src="app/shared/action-button/action-button.directive.js"></script>

      <!-- Manually bootstrap angular when cordova has finished loading -->
      <script type="text/javascript">
        if(document.URL.indexOf( 'http://' ) === -1 && document.URL.indexOf( 'https://' ) === -1) {
          // Running on device
          document.addEventListener("deviceready", function() {
              FastClick.attach(document.body);
              var appElement = document.getElementById('app');
              angular.bootstrap(appElement, ["identisnap"]);
          }, false);
        } else {
          // Running in browser
          angular.element(document).ready(function() {
             FastClick.attach(document.body);
             var appElement = document.getElementById('app');
             angular.bootstrap(appElement, ["identisnap"]);
          });
        }
      </script>
    </body>
</html>
